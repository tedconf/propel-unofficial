<!--
-File         $Id: Installation.html,v 1.8 2004/11/04 01:46:06 hlellelid Exp $
-License      GNU FDL (http://www.gnu.org/copyleft/fdl.html)
-Copyright    2002, Propel project
-Author       Hans Lellelid, hans@xmpl.org
-Translate    Jakub Hudak, zblakany@poczta.php.pl
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/2000/REC-xhtml1-20000126/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Propel Guide</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" rev="Stylesheet" href="../css/Documentation.css" type="text/css" media="All" charset="utf-8" />
</head>
<body>
<h1>Instalacja</h1>
<h2><a name="Installation.Prerequisites"></a>Wymagania systemowe</h2>
<p>Aby zainstalować Propela potrzebujesz:</p>
<ul>
  <li> PHP &gt;= 5.0.0 z obsługą XSLT (--with-xsl na systemach z rodziny *nix lub włączenie php_xsl.dll 
    na systemach Windows)</li>
  <li>Wspierany system relacyjnej bazy danych (ang. RDBMS): MySQL, MS SQL Server, PostgreSQL, SQLite, Oracle</li>
  <li><a href="Bibliography.html#bib.phing">Phing 2.0</a></li>
  <li><a href="Bibliography.html#bib.creole">Creole</a> &gt;= 1.0.0</li>
  <li>pakiet Log z repozytorium PEAR (opcjonalnie)</li>
</ul>
<p>Propel może być używany zarówno na systemach z rodziny Windows, jak i *nix.</p>
<p>Propel jest dostępny, jako &quot;tradycyjne archiwum&quot; (ang. tarball) oraz
  od wersji 1.0.0, jako pakiet w repozytorium PEAR. Archiwum jest
  bardziej elastycze, ale trudniej się je instaluje. Pakiet w repozytorium
  PEAR jest idealny, jeśli chce się od razu działającą aplikację, ale trudniej
  się go konfiguruje. </p>
<h2><a name="Installation.PEAR"></a>Instalacja poprzez PEAR</h2>
<p>Obecnie jest możliwa instalacja zarówno generatora, jak i komponentu uruchomieniowego (ang. runtime),
  jako pakietów PEAR. Jest to najszybsza i najprostsza możliwość, by zainstalować te komponenty, ale konfiguracja nie jest
  tak prosta, jak podczas instalacji tradycyjnej. Oba pakiety nie są od siebie wzajemnie zależne, więc można zainstalować
  tylko generator lub komponent uruchomieniowy, bądź też oba naraz. Komponent uruchomieniowy zależy od pakietu Creole.</p>
<h3>Generator</h3>
<pre title="pear install generator">
$&gt; pear install http://propel.phpdb.org/pear/propel_generator-current.tgz</pre>
<p>Do generatora jest dostarczany wygodny plik propel-gen, którego można używać do budowania modelu obiektowego.</p>
<pre title="pear run propel-gen">
$&gt; propel-gen /path/to/your/projectdir [target]</pre>
<p>Jak widać na powyższym przykładzie trzeba stworzyć katalog z projektem. Można też przejrzeć dostarczony przykład
  projektu w katalogu <em>bookstore</em>, który znajduje się w katalogu danych (and. data) PEAR. Ten temat jest dokładniej
  omówiony w rozdziale <a href="GettingStarted.html">Początek</a>.</p>
<h3>Komponent uruchomieniowy (ang. runtime)</h3>
<p>Komponent uruchomieniowy instaluje się w taki sam sposób, jak generator.</p>
<pre title="pear install runtime">
$&gt; pear install http://propel.phpdb.org/pear/propel_runtime-current.tgz</pre>
<p>Żadna dodatkowa konfiguracja nie jest potrzebna (pod warunkiem, że katalog PEAR w katalogu, gdzie jest zainstalowane PHP
  został dodany do zmiennej <em>include_path</em>).</p>
<p><strong>To by było na tyle.</strong> Przeczytanie następnego rozdziału jest dobrym pomysłem zwłaszcza, że
  większość przykładów została napisana dla instalacji tradycyjnej.</p>
<h2><a name="Installation.Conventional"></a>Instalacja tradycyjna</h2>
<p>For the sake of simplicity this chapter will make some assumptions about file 
  locations. We assume your setup will probably differ, so these should just serve 
  as a reference for the instructions that follow.</p>
<table>
  <caption>
  Some assumptions for sake of example. 
  </caption>
  <thead>
    <tr> 
      <th>Path </th>
      <th>Unix (Linux, FreeBSD, etc.)</th>
      <th>Windows</th>
    </tr>
    <tr> 
      <td>Propel runtime</td>
      <td>/usr/local/propel/runtime</td>
      <td>C:\PHP\apps\propel\runtime</td>
    </tr>
  </thead>
  <tbody>
    <tr> 
      <td>Propel generator</td>
      <td>/usr/local/propel/generator</td>
      <td>C:\PHP\apps\propel\generator</td>
    </tr>
    <tr> 
      <td>PEAR libraries</td>
      <td>/usr/local/lib/php</td>
      <td>C:\PHP\PEAR </td>
    </tr>
  </tbody>
</table>
<h3>Obtaining</h3>
<p>You can install Propel from a released package (or snapshot distribution) or 
  from CVS. Installing from a release or snapshot will always be simpler, but 
  if you would like to keep up with and (hopefully!) help with Propel development, 
  then you should checkout a copy of the source from CVS.</p>
<h4>Package</h4>
<p>If you obtained a tar.gz or .zip of Propel, then you can simply uncompress 
  the archive and move the resulting folder to the right location. For example:</p>
<pre title="unix unpacking">
$&gt; cd /usr/local

$&gt; tar zxvf propel-x.x.x.tar.gz

$&gt; ln -s propel-x.x.x propel
</pre>
<h4>CVS</h4>
<p>Installing from CVS ensures that you have the most up-to-date source code. 
  (Of course CVS code is not stable and should not be used in production.) </p>
<p>Note: the <em>propel</em> module in CVS has a slightly different directory 
  structure due to legacy considerations and limitations imposed by tigris.org. 
  Notably, all &quot;modules&quot; are actually in a top-level <tt>propel</tt> 
  directory; also the runtime classes are in the <tt>propel</tt> subdirectory, 
  while the generator component is in the <tt>propel-generator</tt> directory. 
  Here's a sample checkout (Unix) using the for-the-sake-of-example paths we defined 
  above:</p>

<pre title="CVS checkout instructions">
$&gt; cvs -d :pserver:guest@cvs.tigris.org:/cvs login
  Password: [guest]

$&gt; cvs -d :pserver:guest@cvs.tigris.org:/cvs checkout propel
$&gt; mkdir /usr/local/propel

$&gt; mv propel/propel /usr/local/propel/runtime

$&gt; mv propel/propel-generator /usr/local/propel/generator</pre>

<p> For Windows users, there are a number of graphical CVS clients available such 
  as the very capable and easy-to-use <a href="http://www.tortoisecvs.org" target="_blank">TortoiseCVS</a>.</p>
<h3>Konfiguracja PHP</h3>
<p>Kiedy Propel zostanie rozpakowany, należy poprawnie skonfigurować PHP.</p>
<h4>Zmienna include_path</h4>
<p>Katalog <tt>propel/runtime/classes</tt> powinien zostać na stałe dodany do 
  zmiennej <em>include_path</em>. Warto zapamiętać, że wymagane jest dodanie tylko klas <em>uruchomieniowych</em>,
  ponieważ podczas budowania tych klas generator automatycznie ustawia zmienną <em>include_path</em>.Innymi
  słowy ten krok nie jest wymagany, aby wygenerować model obiektowy, ale po to, by móc używać ten kod w
  swoich aplikacjach PHP. Najprostszą i jednocześnie najbardziej stałą metodą jest ustawienie w pliku
  <tt>php.ini</tt> zmiennej <em>include_path</em>:</p>
<pre title="php.ini settings">
# Unix
include_path=&quot;/usr/local/lib/php:/usr/local/propel/classes&quot;

; Windows
include_path=&quot;C:\PHP\PEAR;C:\PHP\apps\propel\classes&quot;
</pre>
<p>Jeśli nie ma się dostępu do pliku <tt>php.ini</tt>, bądź nie można zdefiniować <em>include_path</em> 
w pliku <tt>.htaccess</tt> wtedy zawsze można to zrobić podczas uruchamiania w swoim skrypcie PHP:</p>
<pre title="setting include_path at runtime">
&lt;?php 

set_include_path(&quot;/usr/local/propel/runtime/classes:&quot; . get_include_path());

require_once 'propel/Propel.php';
Propel::init( MY_CONF_DIR . '/propel/runtime-conf.php');</pre>
<p>Po tym kroku środowisko Propela jest gotowe do użycia z modelem obiektowym.</p>
<h4>Pozostałe ustawienia</h4>
<p>Powinno się sprawdzić, czy poniższe zmienne w pliku php.ini są ustawione, jak te poniżej:</p>
<table>
  <caption>
  pozostałe zmienne w pliku php.ini 
  </caption>
  <thead>
    <tr> 
      <th>Zmienna</th>
      <th>Wartość</th>
    </tr>
  </thead>
  <tbody>
    <tr> 
      <td>ze1_compatibility_mode</td>
      <td>Off</td>
    </tr>
    <tr> 
      <td><p>magic_quotes_gpc</p></td>
      <td><p>Off</p></td>
    </tr>
    <tr> 
      <td><p>magic_quotes_sybase</p></td>
      <td><p>Off</p></td>
    </tr>
    <tr> 
      <td><p>register_globals</p></td>
      <td> <p>Off (warto zapamiętać, że Propel nie potrzebuje włączonych globali) </p></td>
    </tr>
  </tbody>
</table>
<p>To są domyślne wartości dla powyższych zmiennych. Ponadto zmienna <em>register_globals</em>
  nie musi być wyłączona, aczkolwiek jest to bezpieczne ustawienie - i co najważniejsze, 
  Propel nie potrzebuje włączonych globali.</p>
<p>W tym momencie zakończyłeś instalację / konfigurację Propela. Aby
  mieć pewność, że wszystko działa tak, jak należy przejdź do rozdziału
  <a href="GettingStarted.html">Początek</a>.</p>
</body>
</html>
